# 社内Git勉強会その３


## やること


### Gitの仕組み

* HEADについて

### Gitの基本コマンド

* git branch （ブランチ）
* git checkout （チェックアウト）
* git stash（スタッシュ）
* git tag （タグ）
* git reset （リセット）


## HEADについて

<code>HEAD</code>は「今いるブランチの最新のコミット」のaliasみたいなやつ。


通常Gitはコミットログを指定するとき、idを指定します。
※Sourcetreeで「コミット：<code>64f4e2709ae6b68cc8ed5a04d8049d5499cbe2d5</code>」みたな数字列


コマンドラインなどでは、これを指定してコミットログを確認していました。

```sh
$ git show 51ad5fac23ab6dba54a2ca3ac37fcc4dda0e513d
```


指定するのがすごく面倒ですよねー。ってなわけで<code>HEAD</code>を使います。


最新のコミットログどこ？

```sh
$ git show HEAD
```


だけで済むのです。


ちなみにブランチが移動するとHEADの位置も変わります。


### よくやるやって困ること


とあるブランチで過去コミットログに戻ろうとすると、アラートが表示されます。


そのままOKで進むと、<code>HEAD</code>というブランチが作成されます。


この状態でコミットすると<code>HEAD</code>ブランチが一人歩きしますので、その場合は新規でブランチを作成して<code>HEAD</code>ブランチを削除してください。



## Gitの基本コマンド

### git branch & git checkout


改めて。わざわざbranchと切るのにはいくつか理由があります。


* 他の開発メンバーに作業の影響を与えない
* リリース版、機能追加中、バグ修正中などの状態でそれぞれ管理・保持することができる。


機能追加中に、「本番でバグが発生している！　今すぐ直して！」って言われた時に、元のソースに戻してバグを修正するのは面倒ですよね。そこでbranchをそれぞれ確保しておけば、「リリース版」 -> checkout -> 「バグ修正中」でbranchを切る。修正したら「バグ修正中」-> merge 「リリース版」にしたらおｋです。


んで、修正が完了したら「機能追加中」のブランチにcheckoutすればおｋですよね。こんな感じで効率よく作業を行うことができます。



### git stash


ワークスペース、ステージングのファイルをどっかのフォルダに移動します。

「いますぐ本番環境へリリースして！」って作業中に言われた時に、<code>checkout</code>したいけど、変更があるからできないという時に便利です。


### git tag

コミットログにタグ（付箋みたいなもの）をつけることができます。

本番にアップしたコミットログにタグを付けてあげて、本番のバージョンを管理することができます。


### git reset


指定したコミットログの直前までがリセット（消える）されます。


注意することは必ずオプションは<code>soft</code>でお願いします。<code>hard</code>はやらないでね。